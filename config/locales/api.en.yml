en:
  api:
    general:
      create:
        examples:
          ok_response: |-
            HTTP/1.1 200 OK
            Content-Type: application/json; charset=utf-8

            {
              "plant_variety": {
                "id": 1,
                "plant_variety_name": "0068",
                "crop_type": "oilseed rape",
                ...
                "plant_lines_ids": [10792]
              }
            }

          missing_required_attrs_response: |-
            HTTP/1.1 422 Unprocessable Entity
            Content-Type: application/json

            {
              "errors": [
                { "attribute": "name", "message": "Can't be blank" }
              ]
            }

          unknown_attrs_response: |-
            HTTP/1.1 422 Unprocessable Entity
            Content-Type: application/json

            {
              "errors": [
                { "attribute": "nmae", "message": "Unrecognized attribute name" }
              ]
            }

    pagination:
      params:
        -
          name: page
          format: int
          desc: "Page number (default: 1)"
        -
          name: per_page
          format: int
          desc: "Page size (default: %{default_per_page}, max: %{max_per_page})"

      meta:
        -
          name: "meta[page]"
          format: int
          desc: "Current page number"
        -
          name: "meta[per_page]"
          format: int
          desc: "Page size"
        -
          name: "meta[total_count]"
          format: int
          desc: "Total number of existing records"

      request: |-
        GET /api/v1/plant_lines?page=2&per_page=100 HTTP/1.1
        Content-Type: application/json
        Accept: application/json
        X-BIP-Api-Key: ba6d4625927ede0db8768782994d9276cfff9ba79e8df8c831aedc453e850836

      response: |-
        HTTP/1.1 200 OK
        Content-Type: application/json

        {
          "plant_lines": [
            {
              "id": 6,
              ...
            },
            ...
          ],
          "meta": {
            "page": 2,
            "per_page": 100,
            "total_count": 1291
          }
        }

    default:
      attrs:
        id:
          format: int
          desc: Unique BIP database identifier
        comments:
          desc: Additional note from the person who published this data
        confirmed_by_whom:
          desc: The person that accepted this BIP database entry
        data_owned_by:
          format: string
          desc: Name of the legal entity that published this data
        data_provenance:
          desc: Additional information regarding the origin of this data
        date_entered:
          format: date
          desc: The day the data was published
        entered_by_whom:
          desc: The name of the person who published this data
        taxonomy_term_id:
          format: int
          desc: BIP identifier of a Taxonomy Term entry, related with this record
      show:
        example: |-
          GET %{url} HTTP/1.1
          Content-Type: application/json
          Accept: application/json
          X-BIP-Api-Key: ba6d4625927ede0db8768782994d9276cfff9ba79e8df8c831aedc453e850836
      index:
        example: |-
          GET %{url} HTTP/1.1
          Content-Type: application/json
          Accept: application/json
          X-BIP-Api-Key: ba6d4625927ede0db8768782994d9276cfff9ba79e8df8c831aedc453e850836

    plant_line:
      attrs:
        -
          name: id
          create: Q
        -
          name: plant_line_name
          create: required, Q
          desc: Unique name of this Plant Line given by the person when submitting data
        -
          name: common_name
          create: Q
          desc: A common name of this Plant Line, that is widely recognized by the breeders community
        -
          name: named_by_whom
          desc: Either a person or a legal entity that given the name
        -
          name: organisation
          create: Q
          desc: The legal entity that owns this Plant Line
        -
          name: genetic_status
          create: Q
          desc: TODO FIXME ASK TGAC
        -
          name: previous_line_name
          create: Q
          desc: TODO FIXME ASK TGAC
        -
          name: comments
        -
          name: entered_by_whom
        -
          name: date_entered
        -
          name: data_provenance
        -
          name: data_owned_by
        -
          name: confirmed_by_whom
        -
          name: taxonomy_term_id
        -
          name: plant_variety_id
          format: int
          desc: BIP identifier of the Plant Variety that this Plant Line is classified as
        -
          name: fathered_descendants_ids
          format: "int[]"
          desc: Zero or more of BIP identifiers of Plant Lines descending from this entry on male side
        -
          name: mothered_descendants_ids
          format: "int[]"
          desc: Zero or more of BIP identifiers of Plant Lines descending from this entry on female side
        -
          name: plant_accessions_ids
          format: "int[]"
          desc: Zero or more of BIP identifiers of related Plant Accessions
        -
          name: plant_populations_ids
          format: "int[]"
          desc: Zero or more of BIP identifiers of Plant Populations bred in this Plant Line

      index:
        params:
          -
            name: "plant_line[fetch]"
            format: string
            desc: Query using full text search engine
          -
            name: "plant_line[search][plant_line_name]"
            format: string
            desc: ...
          -
            name: "plant_line[search][plant_lines.plant_line_name]"
            format: string
            desc: ...
          -
            name: "plant_line[query][plant_line_name]"
            format: "int, string"
            desc: |
              Filter results by an exact value of `plant_line_name`. Any other attribute marked with `Q` in the table
              may be used instead of `plant_line_name`. Multiple attribute filters may be applied in a single query.

      create:
        example: |-
          POST %{url} HTTP/1.1
          Content-Type: application/json
          Accept: application/json
          X-BIP-Api-Key: ba6d4625927ede0db8768782994d9276cfff9ba79e8df8c831aedc453e850836

          {
            "plant_line": {
              "plant_line_name": "My new line"
            }
          }

    plant_population:
      attrs:
        -
          name: id
          create: Q
        -
          name: name
          create: required, Q
          desc: Unique name of this Plant Population given by the person when submitting data
        -
          name: data_owned_by
        -
          name: population_type
          format: object
          desc: Additional information about the type of this population
        -
          name: description
          desc: Important ree text information given by the data publisher regarding this population
        -
          name: date_established
          format: date
          desc: TODO FIXME ASK TGAC
        -
          name: established_by_whom
          desc: TODO FIXME ASK TGAC
        -
          name: establishing_organisation
          desc: TODO FIXME ASK TGAC
        -
          name: population_owned_by
          desc: Name of the legal organization that owns this population
        -
          name: comments
        -
          name: entered_by_whom
        -
          name: date_entered
        -
          name: data_owned_by
        -
          name: data_provenance
        -
          name: confirmed_by_whom
        -
          name: taxonomy_term_id
        -
          name: male_parent_line_id
          format: int
          desc: BIP identifier of the Plant Line that this population descends from on the male side
        -
          name: female_parent_line_id
          format: int
          desc: BIP identifier of the Plant Line that this population descends from on the female side
        -
          name: linkage_maps_ids
          format: "int[]"
          desc: Zero or more of BIP identifiers of Linkage Maps defined for this population
        -
          name: population_loci_ids
          format: "int[]"
          desc: Zero or more of BIP identifiers of Population Loci published up to now for this population
        -
          name: plant_trials_ids
          format: "int[]"
          desc: Zero or more of BIP identifiers of trait Plant Trials performed so far for this population
        -
          name: plant_lines_ids
          format: "int[]"
          desc: Zero or more of BIP identifiers of Plant Lines that this population is associated with

      index:
        params:
          -
            name: "plant_population[fetch]"
            format: string
            desc: Query using full text search engine
          -
            name: "plant_population[query][name]"
            format: "int, string"
            desc: |
              Filter results by an exact value of `name`. Any other attribute marked with `Q` in the table
              may be used instead of `name`. Multiple attribute filters may be applied in a single query.

      create:
        example: |-
          POST %{url} HTTP/1.1
          Content-Type: application/json
          Accept: application/json
          X-BIP-Api-Key: ba6d4625927ede0db8768782994d9276cfff9ba79e8df8c831aedc453e850836

          {
            "plant_population": {
              "name": "My new population"
            }
          }

    plant_variety:
      attrs:
        -
          name: id
          create: Q
        -
          name: plant_variety_name
          create: Q
          desc: The name of this veriety given by either data submitting person or the database curator
        -
          name: crop_type
          create: Q
          desc: TODO FIXME ASK TGAC
        -
          name: comments
        -
          name: entered_by_whom
        -
          name: date_entered
        -
          name: data_provenance
        -
          name: data_attribution
          create: Q
          desc: TODO FIXME ASK TGAC
        -
          name: year_registered
          create: Q
          desc: Year (or sometimes years) when this variety was officially registered
        -
          name: breeders_variety_code
          create: Q
          desc: TODO FIXME ASK TGAC
        -
          name: owner
          create: Q
          desc: Name of a legal organization that introduced that variety
        -
          name: quoted_parentage
          create: Q
          desc: Parentage information for this variety as given by literature or the database curator
        -
          name: female_parent
          create: Q
          desc: Female parent of this variety, if identified
        -
          name: male_parent
          create: Q
          desc: Male parent of this variety, if identified
        -
          name: countries_of_origin
          format: object[]
          desc: Zero or more of JSON documents listing countries that this variety originated from
        -
          name: countries_registered
          format: object[]
          desc: Zero or more of JSON documents listing countries that this variety is registered in
        -
          name: plant_lines_ids
          format: "int[]"
          desc: Zero or more of BIP identifiers of Plant Lines classified under this plant variety

      index:
        params:
          -
            name: "plant_variety[fetch]"
            format: string
            desc: Query using full text search engine
          -
            name: "plant_variety[search][plant_variety_name]"
            format: string
            desc: ...
          -
            name: "plant_variety[query][id]"
            format: "int, string"
            desc: |
              Filter results by an exact value of `id`. Any other attribute marked with `Q` in the table
              may be used instead of `id`. Multiple attribute filters may be applied in a single query.

    taxonomy_term:
      attrs:
        -
          name: id
        -
          name: label
          desc: Gramene Taxonomy ontology identifier, if available
        -
          name: name
          desc: Regular taxonomical name
        -
          name: taxonomy_term_id
          format: int
          desc: BIP identifier of a parent Taxonomy Term (not given for root terms)
        -
          name: canonical
          format: boolean
          desc: Set to true if the term is defined in Gramene Taxonomy, false otherwise
        -
          name: plant_lines_ids
          format: "int[]"
          desc: Zero or more of BIP identifiers of Plant Lines classified under this term
        -
          name: plant_populations_ids
          format: "int[]"
          desc: Zero or more of BIP identifiers of Plant Populations classified under this term
        -
          name: probes_ids
          format: "int[]"
          desc: Zero or more of BIP identifiers of Probes classified under this term

      index:
        params:
          -
            name: "none"
            format: ""
            desc: No filtering available - you may either list taxonomy terms or pick a single one
