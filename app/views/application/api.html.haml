.lead Brassica Information Portal API

%h2 General guidelines

%h3 Data format

%p BIP API uses JSON to represent data.

%h3 Read-only and writeable resources

%p Some of available resources are read-only.

%h3 Fetching resources

%p Returned records  are paginated.

= render partial: 'api_props', locals: { title: 'Pagination parameters', props:  api_props('pagination.params', default_per_page: Kaminari.config.default_per_page, max_per_page: Kaminari.config.max_per_page) }
= render partial: 'api_props', locals: { title: 'Paginated response metadata', props:  api_props('pagination.meta') }

.panel.panel-default
  .panel-heading
    .panel-title Paginated response format

  .panel-body
    %pre
      %code= t('api.pagination.response')

%h2 Resources

- Brassica::Api.models.each do |model|
  .section
    %h3= model.name

    %div
      %span.method GET
      %span.url= "/api/v1/#{model.name.underscore.pluralize}"

    = render partial: 'api_props', locals: { title: "Search params", props: api_props("#{model.name.underscore}.index.props") }

    .api-live-example
      - if user_signed_in?
        %button.btn.btn-default{type: 'button', data: { url: "/api/v1/#{model.name.underscore.pluralize}?per_page=3" } } Try it!
        .url
        %pre.response.hidden
          %code{style: 'display: block; max-height: 300px; overflow: auto'}
      - else
        .alert.alert-info Sign in to try it in your browser!

    %hr
